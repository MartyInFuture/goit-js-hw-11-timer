{"version":3,"sources":["index.js"],"names":["data","inputYear","document","querySelector","inputHour","button","timerTitle","timerValue","querySelectorAll","lastPickedDate","refreshTimer","initialization","interval","localStorage","setInterval","clearInterval","date","Date","getTime","difference","getItem","split","map","item","parseInt","textContent","days","hours","minutes","dataArr","i","length","LastDate","addEventListener","e","preventDefault","value","newData","correctTime","setItem","removeItem","forEach"],"mappings":";;;AAsEA,aAtEA,QAAA,oBAEA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,wBAClCC,UAAWF,SAASC,cAAc,wBAClCE,OAAQH,SAASC,cAAc,oBAC/BG,WAAYJ,SAASC,cAAc,gBACnCI,WAAYL,SAASM,iBAAiB,gBACtCC,eAAgBP,SAASC,cAAc,qBACvCO,aAAcR,SAASC,cAAc,mBAOvC,SAASQ,IACHC,IAAAA,EACAC,aAAab,KACfY,EAAWE,YAAY,KACjB,IAACD,aAAab,KAEhB,YADAe,cAAcH,GAGVI,MAAAA,GAAO,IAAIC,MAAOC,UAQlBC,GANa,IAAIF,QAClBJ,aACAO,QAAQ,QACRC,MAAM,KACNC,IAAIC,GAAQC,SAASD,KACxBL,UAC+BF,GAAQ,IACrCG,EAAa,IACfnB,EAAKM,WAAWmB,YAAc,mCAE1BC,MAAAA,EAAOF,SAASL,EAAa,GAAK,GAAK,IACvCQ,EAAQH,UAAUL,EAAoB,GAAPO,EAAY,GAAK,IAAM,GAAK,IAC3DE,EAAUJ,UAAUL,EAAoB,GAAPO,EAAY,GAAK,GAAa,GAARC,EAAa,IAAM,IAE1EE,EAAU,CAACH,EAAMC,EAAOC,EADdJ,SAASL,EAAoB,GAAPO,EAAY,GAAK,GAAa,GAARC,EAAa,GAAe,GAAVC,IAEzE,IAAA,IAAIE,EAAI,EAAGA,EAAI9B,EAAKO,WAAWwB,OAAQD,GAAK,EAC/C9B,EAAKO,WAAWuB,GAAGL,YAAcI,EAAQC,IAE1C,KAEHf,cAAcH,GAlCdC,aAAamB,WACfhC,EAAKS,eAAegB,YAAcZ,aAAaO,QAAQ,aAoCzDT,IAEAX,EAAKK,OAAO4B,iBAAiB,QAASC,IAEhC,GADJA,EAAEC,kBACGnC,EAAKC,UAAUmC,QAAUpC,EAAKI,UAAUgC,MAAO,OAC9CC,MAAAA,EAAUrC,EAAKC,UAAUmC,MAAMf,MAAM,KACrCiB,EAActC,EAAKI,UAAUgC,MAAMf,MAAM,KAAKC,IAAIC,GAAQC,SAASD,IACzEV,aAAa0B,QAAQ,OAAQ,CAC3Bf,SAASa,EAAQ,IACjBb,SAASa,EAAQ,IAAM,EACvBb,SAASa,EAAQ,OACdC,IAGLzB,aAAa0B,QAAQ,cAAevC,EAAKC,UAAUmC,SAASpC,EAAKI,UAAUgC,SAC3EpC,EAAKC,UAAUmC,MAAQ,GACvBpC,EAAKI,UAAUgC,MAAQ,GACvBpC,EAAKS,eAAegB,YAAcZ,aAAaO,QAAQ,YACvDT,MAGFX,EAAKU,aAAauB,iBAAiB,QAAS,KAC1CpB,aAAa2B,WAAW,QACxBxC,EAAKO,WAAWkC,QAAQlB,GAASA,EAAKE,YAAc","file":"src.4be9cc21.js","sourceRoot":"../src","sourcesContent":["import './scss/main.scss';\n\nconst data = {\n  inputYear: document.querySelector('.selected-input.year'),\n  inputHour: document.querySelector('.selected-input.hour'),\n  button: document.querySelector('.selected-button'),\n  timerTitle: document.querySelector('.timer-title'),\n  timerValue: document.querySelectorAll('.timer-value'),\n  lastPickedDate: document.querySelector('.last-picked-date'),\n  refreshTimer: document.querySelector('.refresh-timer'),\n};\n\nif (localStorage.LastDate) {\n  data.lastPickedDate.textContent = localStorage.getItem('LastDate');\n}\n\nfunction initialization() {\n  let interval;\n  if (localStorage.data) {\n    interval = setInterval(() => {\n      if (!localStorage.data) {\n        clearInterval(interval);\n        return;\n      }\n      const date = new Date().getTime();\n\n      const pickedDate = new Date(\n        ...localStorage\n          .getItem('data')\n          .split(',')\n          .map(item => parseInt(item)),\n      ).getTime();\n      const difference = (pickedDate - date) / 1000;\n      if (difference < 0) {\n        data.timerTitle.textContent = 'Passed since the selected date:';\n      }\n      const days = parseInt(difference / 60 / 60 / 24);\n      const hours = parseInt((difference - days * 24 * 60 * 60) / 60 / 60);\n      const minutes = parseInt((difference - days * 24 * 60 * 60 - hours * 60 * 60) / 60);\n      const seconds = parseInt(difference - days * 24 * 60 * 60 - hours * 60 * 60 - minutes * 60);\n      const dataArr = [days, hours, minutes, seconds];\n      for (let i = 0; i < data.timerValue.length; i += 1) {\n        data.timerValue[i].textContent = dataArr[i];\n      }\n    }, 1000);\n  } else {\n    clearInterval(interval);\n  }\n}\ninitialization();\n\ndata.button.addEventListener('click', e => {\n  e.preventDefault();\n  if (!data.inputYear.value && !data.inputHour.value) return;\n  const newData = data.inputYear.value.split('/');\n  const correctTime = data.inputHour.value.split(':').map(item => parseInt(item));\n  localStorage.setItem('data', [\n    parseInt(newData[0]),\n    parseInt(newData[1]) - 1,\n    parseInt(newData[2]),\n    ...correctTime,\n  ]);\n\n  localStorage.setItem('LastDate', `${data.inputYear.value} ${data.inputHour.value}`);\n  data.inputYear.value = '';\n  data.inputHour.value = '';\n  data.lastPickedDate.textContent = localStorage.getItem('LastDate');\n  initialization();\n});\n\ndata.refreshTimer.addEventListener('click', () => {\n  localStorage.removeItem('data');\n  data.timerValue.forEach(item => (item.textContent = '00'));\n});\n"]}