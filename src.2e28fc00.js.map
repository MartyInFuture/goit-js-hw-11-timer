{"version":3,"sources":["index.js"],"names":["CountdownTimer","constructor","selector","targetDate","document","querySelector","init","initEvents","addEventListener","e","preventDefault","value","newData","split","correctTime","map","item","parseInt","localStorage","setItem","textContent","getItem","removeItem","querySelectorAll","forEach","LastDate","data","setInterval","clearInterval","date","Date","getTime","difference","days","hours","minutes","dataArr","timerValue","i","length","Math","abs","timer"],"mappings":"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","file":"src.2e28fc00.js","sourceRoot":"../src","sourcesContent":["import './scss/main.scss';\n\nclass CountdownTimer {\n  #selector;\n  #targetDate;\n\n  #interval;\n  constructor({ selector, targetDate }) {\n    this.#selector = document.querySelector(selector);\n    this.#targetDate = targetDate;\n    this.init();\n  }\n\n  initEvents() {\n    this.#selector.querySelector('.selected-button').addEventListener('click', e => {\n      e.preventDefault();\n      if (\n        !this.#selector.querySelector('.selected-input.year').value &&\n        !this.#selector.querySelector('.selected-input.hour').value\n      )\n        return;\n      const newData = this.#selector.querySelector('.selected-input.year').value.split('/');\n      const correctTime = this.#selector\n        .querySelector('.selected-input.hour')\n        .value.split(':')\n        .map(item => parseInt(item));\n      localStorage.setItem('data', [\n        parseInt(newData[0]),\n        parseInt(newData[1]) - 1,\n        parseInt(newData[2]),\n        ...correctTime,\n      ]);\n\n      localStorage.setItem(\n        'LastDate',\n        `${this.#selector.querySelector('.selected-input.year').value} ${\n          this.#selector.querySelector('.selected-input.hour').value\n        }`,\n      );\n      this.#selector.querySelector('.selected-input.year').value = '';\n      this.#selector.querySelector('.selected-input.hour').value = '';\n      this.#selector.querySelector('.last-picked-date').textContent =\n        localStorage.getItem('LastDate');\n      this.init();\n    });\n\n    this.#selector.querySelector('.refresh-timer').addEventListener('click', () => {\n      localStorage.removeItem('data');\n      this.#selector.querySelectorAll('.timer-value').forEach(item => (item.textContent = '00'));\n    });\n  }\n\n  init() {\n    if (localStorage.LastDate) {\n      this.#selector.querySelector('.last-picked-date').textContent =\n        localStorage.getItem('LastDate');\n    }\n    this.initEvents();\n    if (localStorage.data) {\n      this.#interval = setInterval(() => {\n        if (!localStorage.data) {\n          clearInterval(this.#interval);\n          return;\n        }\n        const date = new Date().getTime();\n\n        const pickedDate = new Date(\n          ...localStorage\n            .getItem('data')\n            .split(',')\n            .map(item => parseInt(item)),\n        ).getTime();\n        const difference = (pickedDate - date) / 1000;\n        if (difference < 0) {\n          this.#selector.querySelector('.timer-title').textContent =\n            'Passed since the selected date:';\n        }\n        const days = parseInt(difference / 60 / 60 / 24);\n        const hours = parseInt((difference - days * 24 * 60 * 60) / 60 / 60);\n        const minutes = parseInt((difference - days * 24 * 60 * 60 - hours * 60 * 60) / 60);\n        const seconds = parseInt(difference - days * 24 * 60 * 60 - hours * 60 * 60 - minutes * 60);\n        const dataArr = [days, hours, minutes, seconds];\n        const timerValue = this.#selector.querySelectorAll('.timer-value');\n        for (let i = 0; i < timerValue.length; i += 1) {\n          timerValue[i].textContent = Math.abs(dataArr[i]);\n        }\n      }, 1000);\n    } else {\n      clearInterval(this.#interval);\n    }\n  }\n}\n\nconst timer = new CountdownTimer({ selector: '.timer', targetDate: localStorage.data });\ntimer.init();\n"]}